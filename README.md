# ğŸ¡ Home Assistant Pangolin CLI Add-on
[![GitHub commit activity](https://img.shields.io/github/commit-activity/m/OnyxChills/home-assistant-pangolin-cli-addon?style=for-the-badge)](https://github.com/OnyxChills/home-assistant-pangolin-cli-addon/commits)
![GitHub last commit](https://img.shields.io/github/last-commit/OnyxChills/home-assistant-pangolin-cli-addon?style=for-the-badge)
[![GitHub Repo stars](https://img.shields.io/github/stars/OnyxChills/home-assistant-pangolin-cli-addon?style=for-the-badge)](https://github.com/OnyxChills/home-assistant-pangolin-cli-addon/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/OnyxChills/home-assistant-pangolin-cli-addon?style=for-the-badge)](https://github.com/OnyxChills/home-assistant-pangolin-cli-addon/network/members)

---

## ğŸ“Œ About this Add-on
This Home Assistant add-on allows you to easily run the **Pangolin CLI client** directly inside Home Assistant.

The add-on lets you configure:

- **PANGOLIN_ENDPOINT**
- **NEWT_ID**
- **NEWT_SECRET**
- Optional custom environment variables

All configuration is handled through the Home Assistant add-on interface.

---

## ğŸš€ Features
âœ… Easy installation via Home Assistant Add-on Store  
âœ… Automated setup and execution of the Pangolin CLI container  
âœ… Supports `amd64` and `aarch64` architectures  
âœ… Automatic restart on crash  

---

## ğŸ¤ Contributing

Want to help improve this project?

Feel free to open issues or submit pull requests on GitHub:
https://github.com/OnyxChills/home-assistant-pangolin-cli-addon

---

## ğŸ› ï¸ Installation

### **1ï¸âƒ£ Add the GitHub Repository as an Add-on Source**
1. Go to **Settings â†’ Add-ons â†’ Add-on Store**.
2. Click the menu (three dots in the top right) and select **Repositories**.
3. Add the following URL:
https://github.com/OnyxChills/home-assistant-pangolin-cli-addon
4. Click **Add** and wait for the repository to load.

---

### **2ï¸âƒ£ Install and Start the Add-on**
1. Find **Pangolin CLI Add-on** in the list and click **Install**.
2. Go to the **Configuration** tab and enter your values for:
- **PANGOLIN_ENDPOINT** (e.g., `https://example.com`)
- **NEWT_ID**
- **NEWT_SECRET**
- **custom_env_vars** (optional) â€“ Array of custom environment variables
3. Click **Save** and then **Start**.
4. Check the **Logs** tab to verify that everything is running correctly.

---

## ğŸ³ Docker Environment Variables

### **Required Environment Variables**
The following environment variables are required and must be configured:

- `PANGOLIN_ENDPOINT` â€“ The endpoint where Pangolin resides
- `NEWT_ID` â€“ Your Newt ID generated by Pangolin
- `NEWT_SECRET` â€“ Your Newt secret for authentication

---
## âš™ï¸ Configuration

### **Required Configuration Options**

The following values must be configured in the Home Assistant UI:

- `PANGOLIN_ENDPOINT`  
The endpoint where your Pangolin instance resides.

- `NEWT_ID`  
Your client ID generated by Pangolin.

- `NEWT_SECRET`  
Your client secret used for authentication.

Once configured, the add-on will automatically start the Pangolin CLI client with the provided credentials.

---
## ğŸ” Troubleshooting
ğŸ’¡ **Add-on does not start?**
- Check the logs in Home Assistant (`Settings â†’ Add-ons â†’ Newt â†’ Logs`).
- Ensure that `PANGOLIN_ENDPOINT`, `NEWT_ID`, and `NEWT_SECRET` are set correctly.

ğŸ’¡ **Changes in configuration do not take effect?**
- Restart the add-on after making changes.

ğŸ’¡ **Docker not available?**
- Home Assistant OS manages Docker automatically, but check if the system has access to Docker by running:
  ```sh
  docker info
  ```
  If this fails, there may be a restriction in Home Assistant OS.

---

## ğŸ”— Useful Links
- ğŸ“– [Newt Documentation](https://docs.fossorial.io/Newt/overview)
- ğŸ¡ [Home Assistant](https://www.home-assistant.io/)
- ğŸ³ [Docker Docs](https://docs.docker.com/)

---

## ğŸ™ Credits

This project is based on the original  
**Home Assistant Newt Add-on** by Ferdinand99:

ğŸ”— https://github.com/Ferdinand99/home-assistant-newt-addon

This repository adapts and extends the original work to run the Pangolin CLI client within Home Assistant.

Special thanks to the original author for the foundation that made this project possible.
<!--

Notes to developers after forking or using the github template feature:
- While developing comment out the 'image' key from 'example/config.yaml' to make the supervisor build the addon
  - Remember to put this back when pushing up your changes.
- When you merge to the 'main' branch of your repository a new build will be triggered.
  - Make sure you adjust the 'version' key in 'example/config.yaml' when you do that.
  - Make sure you update 'example/CHANGELOG.md' when you do that.
  - The first time this runs you might need to adjust the image configuration on github container registry to make it public
  - You may also need to adjust the github Actions configuration (Settings > Actions > General > Workflow > Read & Write)
- Adjust the 'image' key in 'example/config.yaml' so it points to your username instead of 'home-assistant'.
  - This is where the build images will be published to.
- Rename the example directory.
  - The 'slug' key in 'example/config.yaml' should match the directory name.
- Adjust all keys/url's that points to 'home-assistant' to now point to your user/fork.
- Share your repository on the forums https://community.home-assistant.io/c/projects/9
- Do awesome stuff!
 -->